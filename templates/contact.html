{% load static %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,500;1,400&family=Open+Sans:wght@300&display=swap"
          rel="stylesheet">
    <link rel="icon" href="{% static "images/logos/favicon.svg" %}">
    <link rel="stylesheet" href="{% static "css/bootstrap/bootstrap.css" %}">
    <link rel="stylesheet" href="{% static 'js/toastr/toastr.css' %}">
    <link rel="stylesheet" href="{% static "css/animate.css" %}">
    <link rel="stylesheet" href="{% static "js/popup/magnific-popup.css" %}">
    <link rel="stylesheet" href="{% static "css/style.css" %}?v=3">
    <link rel="stylesheet" href="{% static "css/response.css" %}?v=3">

    <title>REDMAX - Contact</title>
</head>
<body>


<header class="header container">
    <nav class="d-flex align-items-center justify-content-between">
        <a href="{% url 'index:index' %}" class="header-logo-redmax">
            <img src="{% static "images/logos/logo.svg" %}" alt="logo">
        </a>
        <button class="menu-button">
            <img src="{% static "images/svg/burger.svg" %}" alt="menu" class="menu-button-icon">
        </button>
        <button class="menu-close">
            <img src="{% static "images/svg/close.svg" %}" alt="back" class="menu-close-icon">
        </button>
        <div class="nav-menu  p-0">
            <ul class="nav-list">
                <li class="nav-item"><a href="{% url 'brokers:broker' %}" class="nav-link">Brokers</a></li>
                <li class="nav-item"><a href="{% url 'shippers:shipper' %}" class="nav-link">Shippers</a></li>
                <li class="nav-item"><a href="{% url 'carriers:carrier' %}" class="nav-link">Carriers</a></li>
                <li class="nav-item"><a href="{% url 'contact:contact' %}" class="active-link nav-link">Contact</a></li>
                <li class="nav-item"><a href="{% url 'sitemap:sitemap' %}" class="nav-link">Sitemap</a></li>
            </ul>
            <div class="header-social">
                <a href="#">
                    <img src="{% static "images/svg/fb.svg" %}" alt="fb" class="mr-3">
                </a>
                <a href="#">
                    <img src="{% static "images/svg/inst.svg" %}" alt="insta">
                </a>
            </div>
            <button href="#openModal" class="nav-button openModal" data-effect="mfp-zoom-in">
                Call back
            </button>
        </div>
    </nav>
</header>


<section class="container contactPage">
    <div class="d-flex align-items-center">
        <img src="{% static "images/logos/favicon.svg" %}" alt="arrow">
        <h2 class="servicesTitle">Contact</h2>
    </div>
    <div class="blockLine ">
        <span class="line"></span>
        <img src="{% static "images/svg/lineArrow.svg" %}" alt="lineArrow" class="lineArrow">
    </div>
</section>

<section class="contact container">
    <div class="contactContent">
        <div class="contactLeft">
            <h2 class="contactTitle">Any questions?</h2>
            <p class="contactText contactText-shippers">
                Please let us know the nature of your inquiry
                and we will get back to you shortly
            </p>
            <form action="#" class="contactForm" id="contactForm">
                <div class="group">
                    <input type="text" id="name" required autocomplete="off">
                    <label for="name">Your name</label>
                </div>
                <div class="group">
                    <input type="text" id="phone" required autocomplete="off">
                    <label for="phone">Phone number</label>
                </div>
                <div class="group">
                    <input type="text" id="message" required autocomplete="off">
                    <label for="message">Write message...</label>
                </div>
                <button class="contactButton">
                    Submit
                </button>
            </form>
        </div>
        <div class="contactRight">
            <img src="{% static "images/img/contat.png" %}" alt="contat">
        </div>
    </div>
</section>

<footer class="footer">
    <div class="blockLine contactLine">
        <span class="line"></span>
        <img src="{% static "images/svg/lineArrow.svg" %}" alt="lineArrow" class="lineArrow">
    </div>
    <div class="footer-row container">
        <div class="first-footer">
            <img src="{% static "images/logos/logo.svg" %}" alt="logo">
            <p class="powered">
                Powered by:
                <a target="_blank" href="https://altek.icu/">
                    <img class="altek" src="{% static "images/logos/altek.svg" %}" alt="ALTEK">
                </a>
            </p>
            <p class="footer-license">
                Redmax Logistics, LLC,
                © All rights reserved, Last Modified 2022
            </p>
        </div>
        <div class="second-footer">
            <h2 class="footer-title">
                Newsletter
            </h2>
            <p class="footer-text">
                We care about our clients. Therefore, we frequently
                send out news and updates that will help you
            </p>
            <form action="#" class="EmailForm" id="EmailCreateForm">
                <div class="group position-relative">
                    <input type="email" id="email" required autocomplete="off">
                    <label for="email">Enter your e-mail</label>
                    <span class="sendBtn">
                    <button id="submitBtn">
                            <img src="{% static "images/svg/send.svg" %}" alt="send">
                    </button>
                </span>
                </div>
            </form>
        </div>
        <div class="third-footer">
            <div>
                <a href="tel: {{ contact.phone }}" class="footer-phone">
                    {{ contact.phone }}
                </a>
                <p class="footer-address">
                    305 Olive Ave B Holland PA 19044
                </p>
            </div>
            <div class="footer-social">
                <a href="{{ contact.facebook_link }}">
                    <img src="{% static "images/svg/fb.svg" %}" alt="fb" class="mr-3">
                </a>
                <a href="{{ contact.instagram_link }}">
                    <img src="{% static "images/svg/inst.svg" %}" alt="insta">
                </a>
            </div>
            <p class="footer-license2">
                Redmax Logistics, LLC,
                © All rights reserved, Last Modified 2022
            </p>
            <p class="powered2">
                Powered by:
                <a target="_blank" href="https://altek.icu/">
                    <img class="altek" src="{% static "images/logos/altek.svg" %}" alt="ALTEK">
                </a>
            </p>
        </div>
    </div>
</footer>
<div id="openModal" class="white-popup white-popup__settings mfp-with-anim mfp-hide">
    <div class="popup-main">
        <div class="contactLeftModal">
            <h2 class="contactTitle">Call back</h2>
            <p class="contactText">
                Please let us know the nature of your inquiry
                and we will get back to you shortly
            </p>
            <form action="#" class="contactForm" id="CallBackCreateForm">
                <div class="group">
                    <input type="text" id="nameModal" required autocomplete="off">
                    <label for="nameModal">Your name</label>
                </div>
                <div class="group">
                    <input type="text" id="phoneModal" required autocomplete="off">
                    <label for="phoneModal">Phone number</label>
                </div>
                <button class="contactButtonModal" id="submitBtn">
                    Submit
                </button>
            </form>
        </div>
    </div>
</div>

<script src="{% static "js/jquery.js" %}"></script>
<script src="{% static "js/bootstrap/bootstrap.js" %}"></script>
<script src="{% static "js/bootstrap/popper.min.js" %}"></script>
<script src="{% static "js/burger/main.js" %}"></script>
<script src="{% static "js/popup/jquery.magnific-popup.min.js" %}"></script>
<script src="{% static 'js/inputmask/input.mask.js' %}"></script>
<script src="{% static 'js/toastr/toastr.js' %}"></script>

<script>

    $(document).ready(function () {
        $('.openModal').magnificPopup({
            removalDelay: 500,
            callbacks: {
                beforeOpen: function () {
                    this.st.mainClass = this.st.el.attr('data-effect');
                }
            },
            midClick: true
        });

        $(".closeBtn").click(function () {
            $.magnificPopup.close();
        });
    });

        $("#phoneModal").inputmask({
        "mask": "+1 (ddd) ddd-dddd"
    });

    $("#phone").inputmask({
        "mask": "+1 (ddd) ddd-dddd"
    });

    $("#CallBackCreateForm").submit(function (event) {

        event.preventDefault();
        let requestData = new FormData();
        requestData.append('name', $('#nameModal').val());
        requestData.append('phone', $('#phoneModal').val());

        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;


        let url = "{% url 'call_back:create' %}";
        $.ajax({
            headers: {"X-CSRFToken": "{{csrf_token}}"},
            url: url,
            processData: false,
            contentType: false,
            method: 'POST',
            data: requestData,
            success: function (data) {
                toastr.success(
                    'YOUR REQUEST HAS BEEN\n' +
                    'SENT SUCCESSFULLY!',
                    'Success',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );

                $('#CallBackCreateForm')[0].reset();
                submitBtn.disabled = false;

            },
            error: function (data) {
                toastr.error(
                    data.responseText,
                    'Error',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );
                submitBtn.disabled = false;
            }


        });

    });


    $("#contactForm").submit(function (event) {

        event.preventDefault();
        let requestData = new FormData();
        requestData.append('name', $('#name').val());
        requestData.append('phone', $('#phone').val());
        requestData.append('question', $('#message').val());

        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;


        let url = "{% url 'questions:create' %}";
        $.ajax({
            headers: {"X-CSRFToken": "{{csrf_token}}"},
            url: url,
            processData: false,
            contentType: false,
            method: 'POST',
            data: requestData,
            success: function (data) {
                toastr.success(
                    'YOUR REQUEST HAS BEEN\n' +
                    'SENT SUCCESSFULLY!',
                    'Success',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );

                $('#contactForm')[0].reset();
                submitBtn.disabled = false;

            },
            error: function (data) {
                toastr.error(
                    data.responseText,
                    'Error',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );
                submitBtn.disabled = false;
            }


        });

    });


    $("#EmailCreateForm").submit(function (event) {

        event.preventDefault();
        let requestData = new FormData();
        requestData.append('email', $('#email').val());

        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;


        let url = "{% url 'questions:create_email' %}";
        $.ajax({
            headers: {"X-CSRFToken": "{{csrf_token}}"},
            url: url,
            processData: false,
            contentType: false,
            method: 'POST',
            data: requestData,
            success: function (data) {
                toastr.success(
                    'YOUR REQUEST HAS BEEN\n' +
                    'SENT SUCCESSFULLY!',
                    'Success',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );

                $('#contactForm')[0].reset();
                submitBtn.disabled = false;

            },
            error: function (data) {
                toastr.error(
                    data.responseText,
                    'Error',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );
                submitBtn.disabled = false;
            }


        });

    });

</script>
</body>
</html>

