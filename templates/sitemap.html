{% load static %}

<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,500;1,400&family=Open+Sans:wght@300&display=swap"
          rel="stylesheet">
    <link rel="icon" href="{% static "images/logos/favicon.svg" %}">
    <link rel="stylesheet" href="{% static "css/bootstrap/bootstrap.css" %}">
    <link rel="stylesheet" href="{% static 'js/toastr/toastr.css' %}">
    <link rel="stylesheet" href="{% static "css/animate.css" %}">
    <link rel="stylesheet" href="{% static "js/popup/magnific-popup.css" %}">
    <link rel="stylesheet" href="{% static "css/style.css" %}?v=3">
    <link rel="stylesheet" href="{% static "css/response.css" %}?v=3">

    <title>REDMAX - Sitemap</title>
</head>
<body>

<section class="sitemap main">
    <header class="header container">
        <nav class="d-flex align-items-center justify-content-between">
            <a href="{% url 'index:index' %}" class="header-logo-redmax">
                <img src="{% static "images/logos/logo.svg" %}" alt="logo">
            </a>
            <button class="menu-button">
                <img src="{% static "images/svg/burger.svg" %}" alt="menu" class="menu-button-icon">
            </button>
            <button class="menu-close">
                <img src="{% static "images/svg/close.svg" %}" alt="back" class="menu-close-icon">
            </button>
            <div class="nav-menu  p-0">
                <ul class="nav-list">
                    <li class="nav-item"><a href="{% url 'brokers:broker' %}" class="nav-link">Brokers</a></li>
                    <li class="nav-item"><a href="{% url 'shippers:shipper' %}" class="nav-link">Shippers</a></li>
                    <li class="nav-item"><a href="{% url 'carriers:carrier' %}" class="nav-link">Carriers</a></li>
                    <li class="nav-item"><a href="{% url 'contact:contact' %}" class="nav-link">Contact</a></li>
                    <li class="nav-item"><a href="{% url 'sitemap:sitemap' %}" class="active-link nav-link">Sitemap</a>
                    </li>
                </ul>
                <div class="header-social">
                    <a href="#">
                        <img src="{% static "images/svg/fb.svg" %}" alt="fb" class="mr-3">
                    </a>
                    <a href="#">
                        <img src="{% static "images/svg/inst.svg" %}" alt="insta">
                    </a>
                </div>
                <button href="#openModal" class="nav-button openModal" data-effect="mfp-zoom-in">
                    Call back
                </button>
            </div>
        </nav>
    </header>
    <div class="container mainBlock">
        <h2 class="sitemap-title animate__animated animate__fadeInLeft">Sitemap</h2>
        <div class="row sitemap-row animate__animated animate__fadeInLeft">
            <div class=" col-sm-4 col-md-3 col-lg-2">
                <ul class="p-0">
                    <li class="nav-item"><a href="{% url 'index:index' %}" class="sitemap-main-text">Home page</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">About</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Why choose us?</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Statistics</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Call back</a></li>
                </ul>
            </div>
            <div class=" col-sm-4 col-md-3 col-lg-2">
                <ul class="p-0">
                    <li class="nav-item"><a href="{% url 'brokers:broker' %}" class="sitemap-main-text">Brokers</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Services</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Why choose us?</a></li>
                </ul>
            </div>
            <div class=" col-sm-4 col-md-3 col-lg-2">
                <ul class="p-0">
                    <li class="nav-item"><a href="{% url 'shippers:shipper' %}" class="sitemap-main-text">Shippers</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Services</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Advantages</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Questions?</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Call back</a></li>
                </ul>
            </div>
            <div class=" col-sm-4 col-md-3 col-lg-2">
                <ul class="p-0">
                    <li class="nav-item"><a href="{% url 'carriers:carrier' %}" class="sitemap-main-text">Carriers</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Advantages</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Mobile app</a></li>
                </ul>
            </div>
            <div class=" col-sm-4 col-md-3 col-lg-2">
                <ul class="p-0">
                    <li class="nav-item"><a href="{% url 'contact:contact' %}" class="sitemap-main-text">Contact</a></li>
                    <li class="nav-item sitemapItem"><a href="#" class="sitemap-text">Any questions?</a></li>
                    <li class="nav-item sitemapItem lastsiteMap"><a href="#" class="sitemap-text">Contact</a></li>
                </ul>
            </div>
        </div>
    </div>
</section>
<div id="openModal" class="white-popup white-popup__settings mfp-with-anim mfp-hide">
    <div class="popup-main">
        <div class="contactLeftModal">
            <h2 class="contactTitle">Call back</h2>
            <p class="contactText">
                Please let us know the nature of your inquiry
                and we will get back to you shortly
            </p>
            <form action="#" class="contactForm" id="CallBackCreateForm">
                <div class="group">
                    <input type="text" id="nameModal" required autocomplete="off">
                    <label for="nameModal">Your name</label>
                </div>
                <div class="group">
                    <input type="text" id="phoneModal" required autocomplete="off">
                    <label for="phoneModal">Phone number</label>
                </div>
                <button class="contactButtonModal" id="submitBtn">
                    Submit
                </button>
            </form>
        </div>
    </div>
</div>

<script src="{% static "js/jquery.js" %}"></script>
<script src="{% static "js/bootstrap/bootstrap.js" %}"></script>
<script src="{% static "js/bootstrap/popper.min.js" %}"></script>
<script src="{% static "js/burger/main.js" %}"></script>
<script src="{% static "js/popup/jquery.magnific-popup.min.js" %}"></script>
<script src="{% static 'js/inputmask/input.mask.js' %}"></script>
<script src="{% static 'js/toastr/toastr.js' %}"></script>

<script>

    $(document).ready(function () {
        $('.openModal').magnificPopup({
            removalDelay: 500,
            callbacks: {
                beforeOpen: function () {
                    this.st.mainClass = this.st.el.attr('data-effect');
                }
            },
            midClick: true
        });

        $(".closeBtn").click(function () {
            $.magnificPopup.close();
        });
    });

        $("#phoneModal").inputmask({
        "mask": "+1 (ddd) ddd-dddd"
    });


    $("#CallBackCreateForm").submit(function (event) {

        event.preventDefault();
        let requestData = new FormData();
        requestData.append('name', $('#nameModal').val());
        requestData.append('phone', $('#phoneModal').val());

        const submitBtn = document.getElementById('submitBtn');
        submitBtn.disabled = true;


        let url = "{% url 'call_back:create' %}";
        $.ajax({
            headers: {"X-CSRFToken": "{{csrf_token}}"},
            url: url,
            processData: false,
            contentType: false,
            method: 'POST',
            data: requestData,
            success: function (data) {
                toastr.success(
                    'YOUR REQUEST HAS BEEN\n' +
                    'SENT SUCCESSFULLY!',
                    'Success',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );

                $('#CallBackCreateForm')[0].reset();
                submitBtn.disabled = false;

            },
            error: function (data) {
                toastr.error(
                    data.responseText,
                    'Error',
                    {
                        positionClass: "toast-top-center",
                        timeOut: 2000,
                        fadeOut: 1000,
                    }
                );
                submitBtn.disabled = false;
            }


        });

    });


</script>
</body>
</html>

